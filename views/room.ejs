<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chess Game</title>

<style>
body {
  background:#0d0d0d;
  color:#fff;
  font-family:sans-serif;
  display:flex;
  align-items:center;
  justify-content:center;
  height:100vh;
  flex-direction:column;
  gap:10px;
}

.hidden { display:none; }

/* ========== YOUR FULL EXISTING STYLES ========== */
.chessboard {
  display:grid;
  grid-template-columns:repeat(8,80px);
  grid-template-rows:repeat(8,80px);
  width:640px;
  height:640px;
  box-shadow:0 0 20px #333;
  border-radius:6px;
  transition:transform .4s;
}

.square {
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
}

.light { background:#f0d9b5; }
.dark  { background:#b58863; }

.piece-img {
  width:70px;
  height:70px;
  user-select:none;
  pointer-events:none;
}

.flipped { transform:rotate(180deg); }
.flipped .square { transform:rotate(180deg); }

.timer-box {
  font-size:22px;
  font-weight:bold;
  background:#111;
  padding:6px 18px;
  border-radius:10px;
  box-shadow:0 0 10px #00ffff70;
}

#popup {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.8);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:10;
}
#popup.show { display:flex; }

#popup-content {
  background:#222;
  padding:30px 50px;
  border-radius:15px;
  text-align:center;
}

.piece.selected {
  outline: 3px solid rgba(0,200,255,0.9);
  outline-offset: 4px;
  border-radius: 6px;
}

.square.dot::after {
  content:"";
  width:18px;
  height:18px;
  background:rgba(0,0,0,0.3);
  border-radius:50%;
  position:absolute;
}
.square.capture::after {
  content:"";
  width:36px;
  height:36px;
  border:4px solid rgba(255,0,0,0.65);
  border-radius:50%;
  position:absolute;
}

/* Wrapper = board + timers */
.board-wrapper {
  position: relative;
  display: inline-block;
}

/* SIDE TIMERS (right side of board) */
.side-timer {
  position: absolute;
  right: -140px;    /* distance from chessboard */
  width: 120px;
  padding: 10px 0;
  text-align: center;
  font-size: 24px;
  font-weight: bold;
  background: #111;
  border-radius: 10px;
  box-shadow: 0 0 12px rgba(0,255,255,0.4);
}

/* Top timer position */
#top-timer {
  top: 25px;
}

/* Bottom timer position */
#bottom-timer {
  bottom: 25px;
}
</style>
</head>

<body>

<!-- WAITING UI -->
<div id="waiting">
  <h2 id="wait-text"></h2>
  <p id="room-link"></p>
</div>

<!-- GAME UI -->
<div id="game" class="hidden">

  <div class="board-wrapper">

    <!-- TOP TIMER (right side) -->
    <div id="top-timer" class="side-timer">05:00</div>

    <!-- CHESSBOARD -->
    <div class="chessboard"></div>

    <!-- BOTTOM TIMER (right side) -->
    <div id="bottom-timer" class="side-timer">05:00</div>

  </div>

  <div id="popup">
    <div id="popup-content">
      <span id="popup-text"></span><br><br>
      <button id="play-again">Play Again üîÅ</button>
    </div>
  </div>
</div>
<script src="https://cdn.socket.io/4.8.1/socket.io.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"></script>
<script>
  const ROOM_ID = "<%= roomId %>";
</script>
<script src="/js/chessgame.js"></script>
</body>
</html>